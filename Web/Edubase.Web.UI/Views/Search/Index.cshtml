@using Edubase.Web.UI.Models.Search;
@using VM = Edubase.Web.UI.Models.Search.SearchViewModel;
@using Edubase.Web.UI.Helpers;
@model VM

@{
    ViewBag.bodyClasses = "schools-search-page search-page";
    ViewBag.hideLogo = true;
    ViewBag.siteSection = "search";
}

<div class="grid-row">
    <div class="column-full">
        @Html.Partial("_ValidationSummary", ViewData.ModelState)
        @{ Html.RenderPartial("Partials/_SearchHeader"); }
    </div>
    <div class="column-full">
        <div class="horizontal-tabs-wrapper">
            <div class="tab-wrap search-tabs">
                <ul class="horizontal-tabs">
                    <li>
                        <a href="/?SelectedTab=Establishments" class="horizontal-tab estab @((Model.SelectedTab == SearchViewModel.Tab.Establishments) ? "selected-tab" : "" )">
                            Find an establishment
                        </a>
                    </li>
                    <li>
                        <a href="/?SelectedTab=Groups" class="horizontal-tab group @((Model.SelectedTab == SearchViewModel.Tab.Groups) ? "selected-tab" : "" )">
                            Find an establishment group
                        </a>
                    </li>
                    <li>
                        <a href="/?SelectedTab=Governors" class="horizontal-tab governors @((Model.SelectedTab == SearchViewModel.Tab.Governors) ? "selected-tab" : "" )">Find a governor</a>
                    </li>
                </ul>
            </div>

            <div class="tab-content-wrapper horizontal-tabs-content">
                <div id="establishments" class="tab-content @((Model.SelectedTab != SearchViewModel.Tab.Establishments) ? "hidden-tab-content" : "")" aria-hidden="@(Model.SelectedTab != SearchViewModel.Tab.Establishments)">

                    @{ Html.RenderPartial("Partials/_EstablishmentSearch"); }

                </div>

                <div id="groups" class="tab-content @((Model.SelectedTab != SearchViewModel.Tab.Groups) ? "hidden-tab-content" : "")" aria-hidden="@(Model.SelectedTab != SearchViewModel.Tab.Groups)">
                    @{ Html.RenderPartial("Partials/_GroupSearch"); }

                </div>

                <div id="governors" class="tab-content @((Model.SelectedTab != SearchViewModel.Tab.Governors) ? "hidden-tab-content" : "")" aria-hidden="@(Model.SelectedTab != SearchViewModel.Tab.Governors)">
                    @{ Html.RenderPartial("Partials/_GovernorSearch");}

                </div>
            </div>

        </div>

        @{ Html.RenderPartial("Partials/_HelpText");}

    </div>

</div>

@section ViewScripts{

    <script type="text/javascript" nonce="@Html.ScriptNonce()">
        window.localAuthorities = @Html.Json(Model.LocalAuthorities);

        // if (!$('html').hasClass('lt-ie9')) {
        //     DfE.Views.schoolSearch.init();
        // }
    </script>

}
