@using Edubase.Web.UI.Models.Search;
@using VM = Edubase.Web.UI.Models.Search.SearchViewModel;
@using Edubase.Web.UI.Helpers;
@model VM

@{
    ViewBag.bodyClasses = "schools-search-page search-page";
    ViewBag.hideLogo = true;
    ViewBag.siteSection = "search";
    var version = typeof (VM).Assembly.GetName().Version;
}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
        @Html.Partial("_ValidationSummary", ViewData.ModelState)
        @{ Html.RenderPartial("Partials/_SearchHeader"); }
    </div>
</div>
<div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
        <div class="gias-tabs-wrapper">
            <div class="tab-wrap search-tabs">
                <ul class="gias-tabs">
                    <li class="gias-tabs__list-item @((Model.SelectedTab == SearchViewModel.Tab.Establishments) ? "gias-tabs__list-item--selected" : "" )">
                        <a href="/?SelectedTab=Establishments" class="gias-tabs__tab estab">
                            Find an establishment
                        </a>
                    </li>
                    <li class="gias-tabs__list-item @((Model.SelectedTab == SearchViewModel.Tab.Groups) ? "gias-tabs__list-item--selected" : "" )">
                        <a href="/?SelectedTab=Groups" class="gias-tabs__tab group">
                            Find an establishment group
                        </a>
                    </li>
                    <li class="gias-tabs__list-item @((Model.SelectedTab == SearchViewModel.Tab.Governors) ? "gias-tabs__list-item--selected" : "" )">
                        <a href="/?SelectedTab=Governors" class="gias-tabs__tab governors">Find a governor</a>
                    </li>
                </ul>
            </div>

            <div class="tab-content-wrapper gias-tabs-content">
                <div id="establishments" class="tab-content @((Model.SelectedTab != SearchViewModel.Tab.Establishments) ? "hidden-tab-content" : "")" aria-hidden="@(Model.SelectedTab != SearchViewModel.Tab.Establishments)">

                    @{ Html.RenderPartial("Partials/_EstablishmentSearch"); }

                </div>

                <div id="groups" class="tab-content @((Model.SelectedTab != SearchViewModel.Tab.Groups) ? "hidden-tab-content" : "")" aria-hidden="@(Model.SelectedTab != SearchViewModel.Tab.Groups)">
                    @{ Html.RenderPartial("Partials/_GroupSearch"); }

                </div>

                <div id="governors" class="tab-content @((Model.SelectedTab != SearchViewModel.Tab.Governors) ? "hidden-tab-content" : "")" aria-hidden="@(Model.SelectedTab != SearchViewModel.Tab.Governors)">
                    @{ Html.RenderPartial("Partials/_GovernorSearch");}

                </div>
            </div>

        </div>

        @{ Html.RenderPartial("Partials/_HelpText");}

    </div>

</div>

@section ViewScripts{

    <script type="text/javascript" nonce="@Html.ScriptNonce()">
        window.localAuthorities = @Html.Json(Model.LocalAuthorities);
    </script>

    <script src="/public/assets/scripts/build/search-bundle.js?v=@version"></script>
}
