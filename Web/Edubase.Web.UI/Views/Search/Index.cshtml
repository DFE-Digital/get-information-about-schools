@using Edubase.Web.UI.Models.Search;
@using eStatus = Edubase.Services.Enums.eLookupEstablishmentStatus;
@using VM = Edubase.Web.UI.Models.Search.SearchViewModel;
@using Edubase.Web.UI.Helpers;
@model VM
    
@{
    ViewBag.bodyClasses = "schools-search-page search-page";
    ViewBag.hideLogo = true;
}

<div class="grid-row">
    <div class="column-full">
        @{ Html.RenderPartial("Partials/SearchHeader"); }
    </div>
    <div class="column-full">
        <div class="horizontal-tabs-wrapper">
            <div class="tab-wrap">
                <ul class="horizontal-tabs trio-tabs">
                    <li>
                        <a href="#establishments" class="horizontal-tab estab">
                            Find an establishment
                        </a>
                    </li>
                    <li>
                        <a href="#groups" class="horizontal-tab group">
                            Find an establishment group<br />
                        </a>
                    </li>
                    <li>
                        <a href="#governors" class="horizontal-tab governors">Find a governor</a>
                    </li>
                </ul>
            </div>

            <div class="tab-content-wrapper horizontal-tabs-content">
                <div id="establishments" class="tab-content">

                    @{ Html.RenderPartial("Partials/EstablishmentSearch"); }

                </div>

                <div id="groups" class="tab-content">
                    @{ Html.RenderPartial("Partials/GroupSearch"); }
                   
                </div>

                <div id="governors" class="tab-content">
                    @{ Html.RenderPartial("Partials/GovernorSearch");}

                </div>
            </div>

        </div>
        @* Tool tip texts - Potential TODO add to resource file *@
        @{ Html.RenderPartial("Partials/HelpText"); }

    </div>

</div>

@section ViewScripts{
    <script src="/public/dfeagiledevops-typeahead/dist/typeahead.bundle.min.js"></script>
    <script type="text/javascript">
        var jScriptVersion;
        window.localAuthorities = @Html.Json(Model.LocalAuthorities);
        /*@@cc_on
        // only IE <= 10 enter this block
            jScriptVersion = @@_jscript_version;
        @@*/
        if (typeof jScriptVersion === 'undefined' || jScriptVersion >= 9) {
            window.setTimeout(function() {
                var s = document.createElement("script");
                s.src = "https://maps.googleapis.com/maps/api/js?libraries=places&callback=DfE.Views.GoogleLocationViewModel.Load&key=AIzaSyC5YvjNVqceizjjEi95rzhCCjwsCVrb8Gw";
                document.getElementsByTagName('body')[0].appendChild(s);
            },0);

        }
    </script>
   
}

