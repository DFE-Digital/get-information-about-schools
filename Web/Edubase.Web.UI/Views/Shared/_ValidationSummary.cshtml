@model ModelStateDictionary
@{ 
    var validationResult = (FluentValidation.Results.ValidationResult) ViewBag.FVErrors;
}

@if (!Model.IsValid && validationResult != null)
{
    <div class="error-summary">
        <h2 class="heading-medium error-summary-heading">Incorrect or missing details</h2>
        <ul class="error-summary-list">
            @foreach (var modelError in validationResult.Errors)
            { 
                <li class="error-message"><a href="#@modelError.PropertyName">@(modelError.CustomState?.ToString() ?? modelError.ErrorMessage)</a></li>
            }
        </ul>
    </div>
}
