@using Edubase.Common
@using Edubase.Services.Enums
@model Edubase.Web.UI.Areas.Governors.Models.GovernorViewModel

@{
    bool disableStartDate;
    if (!bool.TryParse(ViewData["disableStartDate"]?.ToString(), out disableStartDate))
    {
        disableStartDate = false;
    }

    bool showReactivationWarning;
    if (!bool.TryParse(ViewData["reactivationWarning"]?.ToString(), out showReactivationWarning))
    {
        showReactivationWarning = false;
    }

    string editorPrefix = ViewData["editorPrefix"]?.ToString();
}

@if (Model.DisplayPolicy.AppointmentStartDate)
{
    var detail = disableStartDate ? @"based on current governor's end date" : @"required to save record";
    var title = $"Date of appointment ({detail})";

    @Html.EditorFor(x => x.AppointmentStartDate,
        new { title, @readonly = disableStartDate, ClassPrefix = "start-date", editorPrefix })
}

@if (Model.DisplayPolicy.AppointmentEndDate)
{
    @Html.EditorFor(x => x.AppointmentEndDate,
        new { title = Model.GovernorRole == eLookupGovernorRole.Member ? "Date stepped down" : "Date term ends", showReactivationWarning })
}

