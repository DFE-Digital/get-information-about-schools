@using Edubase.Web.UI.Helpers
@model Edubase.Web.UI.Areas.Governors.Models.GovernorViewModel

@if (Model.DisplayPolicy.PostCode)
{
    var inputId = Html.IdFor(model => model.PostCode);
    var errorsWrapperId = $"{inputId}-errors";

    <div class="govuk-form-group @Html.ValidationCssClassFor(model => model.PostCode)">
        <label class="govuk-label" for="@inputId">
            Home postcode
            <a id="PostcodeTooltipLink" href="#help-text-postcode" class="help-icon modal-link">
                <span class="govuk-visually-hidden">Help with the postcode field</span>
                @await Html.PartialAsync("_DialogHiddenPrompt", Model)
            </a>
        </label>

        <span id="@errorsWrapperId">
            @Html.ValidationMessageFor(model => model.PostCode, null, new { @class = "govuk-error-message" })
        </span>

        <div class="govuk-grid-column-full helptext-container">
            <div id="help-text-postcode">
                <h3 class="govuk-heading-s make-modal-header">Home postcode</h3>
                <p class="govuk-body">
                    This information will not be made public and will only be shared within the Department for Education, across government and with organisations where the department are legally required to do so for business-critical work and safeguarding actions.
                </p>
            </div>
        </div>

        @Html.TextBoxFor(model => model.PostCode, new {
            @class = $"govuk-input {Html.TextBoxValidationClass(x => x.PostCode)}",
            id = inputId,
            aria_describedBy = errorsWrapperId
        })
    </div>
}

